<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<style type="text/css">
select { 
  font-size: 1.5em;
}
input { 
  font-size: 1.5em;
}
</style>
</head>

<body>

<table>
<tr>
<td>
<select id="slideA" onchange="slidedA()" size="15" style="text-align:right">
<option value="0">0</option>
<option value="1">1</option>
<option value="2">2</option>
<option value="3">3</option>
<option value="4">4</option>
<option value="5">5</option>
<option value="6">6</option>
<option value="7">7</option>
<option value="8">8</option>
<option value="9">9</option>
<option value="10">10</option>
<option value="11">11</option>
<option value="12">12</option>
<option value="13">13</option>
<option value="14">14</option>
</select>
</td>
<td>
<table>
<tr>
<td> <input id="scoreA" value="0" size="3" type="text" style="text-align:center" /> </td>
<td>Score</td>
<td> <input id="scoreB" value="0" size="3" type="text" style="text-align:center" /> </td>
</tr>
<tr>
<td><br><br><br></td>
</tr>
<tr>
<td> <input id="rackA" value="0" onchange="rackA()" size="3" type="text" style="text-align:center" /> </td>
<td>Rack</td>
<td> <input id="rackB" value="0" onchange="rackB()" size="3" type="text" style="text-align:center" /> </td>
</tr>
</table>
</td>
<td>
<select id="slideB" onchange="slidedB()" size="15" style="text-align:right">
<option value="0">0</option>
<option value="1">1</option>
<option value="2">2</option>
<option value="3">3</option>
<option value="4">4</option>
<option value="5">5</option>
<option value="6">6</option>
<option value="7">7</option>
<option value="8">8</option>
<option value="9">9</option>
<option value="10">10</option>
<option value="11">11</option>
<option value="12">12</option>
<option value="13">13</option>
<option value="14">14</option>
</select>
</td>
</tr>
</table>
<p/>
<input id="rackButton" value="New Rack" type="button" onclick="newRack()" />

<script>
function newRack(){
  var slideA = parseInt(document.getElementById("slideA").value);
  var slideB = parseInt(document.getElementById("slideB").value);
  if(slideA+slideB != 14){
    document.getElementById("rackButton").value = "New Rack -- Fix Rack Score!!!";
    return;
  }

  document.getElementById("rackButton").value = "New Rack";
  var scoreA = parseInt(document.getElementById("scoreA").value);
  var scoreB = parseInt(document.getElementById("scoreB").value);
  document.getElementById("scoreA").value = scoreA + slideA;
  document.getElementById("scoreB").value = scoreB + slideB;

  update("A", 0);
  update("B", 0);
}

function update(who, score) {
  document.getElementById("rack"+who).value = score;
  document.getElementById("slide"+who).value = score;
  var other = who == "A" ? "B" : "A";
  var otherScore = document.getElementById("rack"+other).value;
  var otherScore = Math.min(otherScore, 14-score);
  document.getElementById("rack"+other).value = otherScore;
  document.getElementById("slide"+other).value = otherScore;
}

function rackA() {
  var score = document.getElementById("rackA").value;
  update("A", score);
}

function rackB() {
  var score = document.getElementById("rackB").value;
  update("B", score);
}

function slidedA() {
  var score = document.getElementById("slideA").value;
  update("A", score);
}

function slidedB() {
  var score = document.getElementById("slideB").value;
  update("B", score);
}

</script>
</body>
</html>
